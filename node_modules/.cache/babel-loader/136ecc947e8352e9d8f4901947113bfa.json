{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Greg\\\\Desktop\\\\langara\\\\cpsc2600\\\\Project\\\\my-project - Copy\\\\src\\\\components\\\\Home.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef, useEffect } from \"react\";\nimport Form from \"./Form\";\nimport UserForm from \"./userForm\";\nimport UpdateItem from \"./UpdateItem\";\nimport DeleteForm from \"./DeleteForm\";\nimport { nanoid } from \"nanoid\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Home() {\n  _s();\n\n  const [state, setState] = useState({\n    visible: 0\n  });\n  const [users, setUsers] = useState([]);\n  useEffect(() => {\n    const data = localStorage.getItem('listOfUsers');\n\n    if (data) {\n      setUsers(JSON.parse(data));\n    }\n  }, []);\n  useEffect(() => {\n    localStorage.setItem('listOfUsers', JSON.stringify(users));\n  });\n\n  function addProduct(name, description, username, price) {\n    const newProduct = {\n      id: \"todo-\" + nanoid(),\n      name: name,\n      description: description,\n      price: price\n    };\n    users.map(i => {\n      if (i.username === username) {\n        const newArray = [...i.items, newProduct];\n        i.items = newArray;\n      }\n    });\n  }\n\n  function addUsers(username, password) {\n    const newUser = {\n      id: \"todo-\" + nanoid(),\n      username: username,\n      password: password,\n      items: []\n    };\n    setUsers([...users, newUser]);\n  }\n\n  function editItem(id, username, newDescription) {\n    users.map(i => {\n      if (i.username === username) {\n        i.items.map(j => {\n          if (j.id === id) {\n            j.description = newDescription;\n          }\n        });\n      }\n    });\n  }\n\n  function deleteUser(username, password) {\n    const remainingUsers = users.filter(user => username !== user.username && password !== user.password);\n    setUsers(remainingUsers);\n  }\n\n  const listUsers = users.map(i => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"liproducts\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [i.username, \":\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), i.items.map(j => /*#__PURE__*/_jsxDEV(UpdateItem, {\n      username: i.username,\n      id: j.id,\n      name: j.name,\n      price: j.price,\n      description: j.description,\n      editItem: editItem\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"btn\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"center\",\n      children: \"Project\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"Button\",\n      onClick: () => {\n        setState({\n          visible: 0\n        });\n      },\n      children: \"Add Items\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      onClick: () => {\n        setState({\n          visible: 1\n        });\n      },\n      children: \"Show All Users\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      onClick: () => {\n        setState({\n          visible: 2\n        });\n      },\n      children: \"Create New User\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      onClick: () => {\n        setState({\n          visible: 3\n        });\n      },\n      children: \"Delete User\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this), state.visible === 0 ? /*#__PURE__*/_jsxDEV(Form, {\n      addProduct: addProduct\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 28\n    }, this) : state.visible === 1 ? listUsers : state.visible === 2 ? /*#__PURE__*/_jsxDEV(UserForm, {\n      addUsers: addUsers\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 122\n    }, this) : /*#__PURE__*/_jsxDEV(DeleteForm, {\n      deleteUser: deleteUser\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 159\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Home, \"RwNtYNp/fT43OnoS1ZQRwO7Kofs=\");\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["C:/Users/Greg/Desktop/langara/cpsc2600/Project/my-project - Copy/src/components/Home.js"],"names":["React","useState","useRef","useEffect","Form","UserForm","UpdateItem","DeleteForm","nanoid","Home","state","setState","visible","users","setUsers","data","localStorage","getItem","JSON","parse","setItem","stringify","addProduct","name","description","username","price","newProduct","id","map","i","newArray","items","addUsers","password","newUser","editItem","newDescription","j","deleteUser","remainingUsers","filter","user","listUsers"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\r\nimport Form from \"./Form\";\r\nimport UserForm from \"./userForm\";\r\nimport UpdateItem from \"./UpdateItem\";\r\nimport DeleteForm from \"./DeleteForm\";\r\nimport { nanoid } from \"nanoid\";\r\n\r\nfunction Home() {\r\n  const [state, setState] = useState({\r\n    visible: 0\r\n  })\r\n  const [users, setUsers] = useState([]);\r\n\r\n  useEffect(() =>{\r\n    const data = localStorage.getItem('listOfUsers');\r\n    if(data){\r\n      setUsers(JSON.parse(data));\r\n    }\r\n  }, []);\r\n  useEffect(() =>{\r\n    localStorage.setItem('listOfUsers', JSON.stringify(users));\r\n  });\r\n\r\n  function addProduct(name, description, username, price){\r\n    const newProduct = { id: \"todo-\" + nanoid(), name: name, description: description, price: price}\r\n\r\n    users.map(i =>{\r\n      if(i.username === username){\r\n        const newArray = [...i.items, newProduct]\r\n        i.items = newArray\r\n        \r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  function addUsers(username, password){\r\n    const newUser = {id: \"todo-\" + nanoid(), username: username, password: password, items: []}\r\n    setUsers([...users, newUser]);\r\n    \r\n  }\r\n\r\n  function editItem(id,username, newDescription){\r\n    users.map(i =>{\r\n      if(i.username === username){\r\n        i.items.map(j =>{\r\n          if(j.id === id){\r\n            j.description = newDescription;\r\n          }\r\n        });\r\n      }\r\n    });\r\n  \r\n  }\r\n  \r\n\r\n  function deleteUser(username, password){\r\n    const remainingUsers = users.filter(user => username !== user.username && password !== user.password);\r\n    setUsers(remainingUsers);\r\n  }\r\n\r\n  const listUsers = users.map(i => (\r\n    <div className=\"liproducts\">\r\n      <h2>\r\n        {i.username}:\r\n      </h2>\r\n    \r\n    {i.items.map(j => (\r\n      <UpdateItem\r\n        username={i.username}\r\n        id={j.id}\r\n        name={j.name}\r\n        price={j.price}\r\n        description={j.description}\r\n        editItem={editItem}\r\n        />\r\n\r\n    ))\r\n    }\r\n    </div>\r\n));\r\n\r\n  \r\n  \r\n  return (\r\n    <div className=\"btn\">\r\n      <h1 className=\"center\" >Project</h1>\r\n\r\n      <button type=\"Button\"  onClick={() => {setState({visible: 0}); }}>\r\n        Add Items\r\n      </button>\r\n      <button type=\"button\" onClick={() => {setState({visible: 1}); }}>\r\n        Show All Users\r\n      </button>\r\n\r\n      <button type=\"button\"  onClick={() => {setState({visible: 2});}}>\r\n        Create New User\r\n      </button>\r\n      <button type=\"button\" onClick={() => {setState({visible: 3});}}>\r\n        Delete User\r\n      </button>\r\n\r\n     {state.visible===0 ? (<Form addProduct={addProduct} /> ) : state.visible===1  ? (listUsers) : (state.visible===2 ? (<UserForm addUsers={addUsers} />)  : <DeleteForm deleteUser={deleteUser} />    )}\r\n      \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n"]},"metadata":{},"sourceType":"module"}